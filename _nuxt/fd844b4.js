(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{466:function(e,t,o){var content=o(475);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(19).default)("71a8d595",content,!0,{sourceMap:!1})},474:function(e,t,o){"use strict";o(466)},475:function(e,t,o){var n=o(18)(!1);n.push([e.i,".code[data-v-485d94f6]{display:flex;height:100%}.code .codemirror[data-v-485d94f6],.code .pre[data-v-485d94f6]{width:50%;height:100%;margin:0;overflow:auto}.code .pre[data-v-485d94f6]{display:block;height:100%;overflow:auto;padding:1rem;font-size:12px;line-height:1.6;word-break:break-all;word-wrap:break-word}",""]),e.exports=n},476:function(e,t,o){"use strict";o.r(t);var n=o(1),r=o(280),c=o(279),d=(o(467),o(469),o(293),o(471),o(472),o(463),o(464),o(465),o(473),n.a.extend({name:"EditPage",components:{codemirror:c.codemirror},data:function(){return{id:this.$route.params.id,title:"",code:"",anyKeyPressed:!1,manager:{},currentSocket:{},cmOptions:{mode:"markdown",theme:"base16-dark",extraKeys:{F11:function(e){e.setOption("fullScreen",!e.getOption("fullScreen"))},Esc:function(e){e.getOption("fullScreen")&&e.setOption("fullScreen",!1)}},line:!0,lineWrapping:!0,lineNumbers:!0,readOnly:!1,showCursorWhenSelecting:!0,lineWiseCopyCut:!0,autofocus:!0,viewportMargin:20}}},mounted:function(){var e=this;this.manager=new r.a(("https:"===location.protocol?"wss":"ws")+"://"+this.$config.WS_HOST,{reconnectionDelayMax:1e4,query:{documentName:"網路程式設計",userName:"moontai0724"}}),this.currentSocket=this.manager.socket("/"),this.currentSocket.emit("OpenFile",{id:this.id}),this.currentSocket.on("RequestedFile",(function(t){t||e.$router.push("/"),e.code=t.content,e.title=t.title})),this.currentSocket.on("FileUpdated",(function(t){e.code=t.content,e.title=t.title}))},beforeDestroy:function(){this.currentSocket.disconnect()},methods:{onCmCodeChange:function(e){this.code!==e&&(this.code=e,this.currentSocket.emit("UpdateFile",{id:this.id,title:this.title,content:e,lastUpdate:Date.now(),updator:this.currentSocket.id}))}}})),l=(o(474),o(114)),component=Object(l.a)(d,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"code"},[o("div",{staticClass:"codemirror"},[o("codemirror",{ref:"cmEditor",attrs:{value:e.code,options:e.cmOptions},on:{input:e.onCmCodeChange}})],1),e._v(" "),o("pre",{staticClass:"pre"},[e._v(e._s(e.code))])])}),[],!1,null,"485d94f6",null);t.default=component.exports}}]);